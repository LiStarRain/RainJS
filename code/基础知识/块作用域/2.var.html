<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // function run() {
    //   // 不加声明关键字相当于把变量添加进全局环境中
    //   web = 'haha';
    // }
    // run();
    // console.log(web); // haha

    // // var没有块级作用域
    // for (var i = 0; i < 100; i++) {
    //   console.log(i);
    // }
    // console.log(i); // 100

    // // 使用let时则会将变量添加到最近的函数、全局或者块级作用域中
    // let i = 100;
    // for (let i = 0; i < 6; i++) {
    //   console.log(i);
    // }
    // console.log(i);

    // do/while定义的变量可以在代码块外部访问到
    // var num = 0;
    // function show() {
    //   var step = 10;
    //   do {
    //     var res = 0;
    //     console.log(num = step++);
    //     res = num;
    //   } while (step < 20);
    //   console.log(`结果是：${res}`);
    // }
    // show(); // 19

    // var在全局环境中声明的变量也会添加到全局对象window中
    // var test = 'gagaga';
    // console.log(window.test);

    // 使用立即执行函数来模仿块级作用域
    // (function () {
    //   var $ = this.$ = {};
    //   $.web = 'haha';
    // }.bind(window))();
    // console.log($.web); // haha

    // 利用块级作用域实现
    {
      let $ = (window.$ = {});
      $.web = 'haha';
    }
    console.log($.web); // haha
  </script>
</body>

</html>