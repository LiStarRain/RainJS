<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function loadImage(file, resolve, reject) {
      const image = new Image();
      image.src = file;
      image.onload = function () {
        resolve(image);
      };
      image.onerror = () => {
        reject(new Error('load fail'));
      };
      document.body.append(image);
    }
    loadImage(
      'https://dss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1261883866,1011039846&fm=111&gp=0.jpg',
      image => {
        image.style.cssText = `width: 100px; height: 100px`;
        image.style.border = '5px solid purple';
        // 这里代码的嵌套不方便解决问题
      },
      error => {
        console.log(error);
      }
    );
  </script>
</body>

</html>