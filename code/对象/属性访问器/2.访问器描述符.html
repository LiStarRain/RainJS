<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 模拟定义私有属性
    // function User(name, age) {
    //   let data = {
    //     name,
    //     age
    //   };
    //   Object.defineProperties(this, {
    //     name: {
    //       get() {
    //         return data.name;
    //       },
    //       set(value) {
    //         if (value.trim() = '') throw new Error('无效用户名');
    //         data.name = value;
    //       }
    //     },
    //     age: {
    //       get() {
    //         return data.age;
    //       },
    //       set(value) {
    //         if (typeof value !== 'number') throw new Error('格式错误');
    //         data.age = value;
    //       }
    //     }
    //   });
    // }
    // let user1 = new User('ame', 22);
    // console.log(user1.name);
    // user1.age = '1'; // Error

    // 用 class 语法糖来实现
    "use strict";
    let DATA = Symbol();
    class User {
      constructor(name, age) {
        this[DATA] = {
          name,
          age
        };
      }
      get name() {
        return this[DATA].name;
      }
      set name(value) {
        if (value.trim() == '') throw new Error('无效用户名');
        this[DATA].name = value;
      }
      get age() {
        return this[DATA].age;
      }
      set age(value) {
        if (typeof value !== 'number') throw new Error('格式错误');
        this[DATA].age = value;
      }
    }
    const user1 = new User('ame', 22);
    console.log(user1.name); // ame
    user1.name = 'rain';
    console.log(user1.name); // rain
  </script>
</body>

</html>